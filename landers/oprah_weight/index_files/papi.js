!function(){var o,r,a,i,c=window.geoedge||{},l=(c.q=c.q||[],c.key),e=c&&c.cfg,n=c&&c.overrides||{},s=e&&e.fromGrumi,d=e&&e.advs,m=("http"===window.location.protocol.substr(0,4)?window.location.protocol:"https:")+"//protect.geoedge.be/api/event",t="//rumcdn.geoedge.be/",u="/grumi.js",f=function(){for(var e=[],t="0123456789abcdef",n=0;n<36;n++)e[n]=t.substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")}(),p={BLOCK:0,REPORT:1},w={},h="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation",g=/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/g,v="0.0.9";function y(e){try{return e.matchAll(g).toArray().map(function(e){return e[0]})}catch(e){}return[]}function _(e){return t+e+u}function E(e){try{return top.location[e]}catch(e){}}function b(e){e=e||{};var t=!s&&!function(e){var t,n=[];if(Object.keys)return 0===Object.keys(e).length;for(t in e)e.hasOwnProperty(t)&&n.push(t);return 0===n.length}(n),t=(n=t?n:{},e.vast_xmls&&e.vast_xmls[e.vast_xmls.length-1]||"");return{imp:e.imp||void 0,wver:v,wtype:"papi",key:e.key||l,tag:t,vastUrls:e.vast_urls,meta:{w:n.width||e.width,h:n.height||e.height,adv:n.advertiser||e.advertiser_name||e.advertiser_id||e.demand_name||"",cr:n.creativeId||e.creative_id||e.vast_creative_id,cust_imp:e.custom_impression,cust1:n.custom_1||e.custom_1,cust2:n.custom_2||e.custom_2,cust3:n.custom_3||e.custom_3,adElId:n.slotElementId||e.slot_element_id,topUrl:n.topUrl||E("href")||location.href},sp:e.sp||"papi",cfg:{advs:d&&JSON.stringify(d)},hbPb:e.cpm,hbCurrency:e.currency,hbAdomains:e.adomains,site:n.site||e.site||E("hostname")||location.hostname,pimp:n.pageViewId||f,fsRan:e.fsRan,frameApi:e.frameApi,cos:e.cos}}function C(){var e=document.createElement("iframe");return e.src="about:blank",e.style.display="none",e}function I(e,t){try{return e.initHooks(t)}catch(e){}}function A(e,t,n){e=w[e][t],t=e.findIndex(function(e){return(e=e.originalHandler||e)===n});-1<t&&e.splice(t,1)}function k(a,i,d){return function(t){var e,n,o=b(t),r=a.createInstance(i,d,o),s=o.imp;return r.setTargetWindow(window),o=s,e=Object.values(p),n={},e.forEach(function(e){n[e]=[]}),w[o]=n,{shouldBlock:function(e){return e.some(function(e){return r.inspectUrl(e)})},onEvent:function(e,t,n){var o,r,a,i;o=s,r=e,a=t,(n||{}).once&&((i=function(){a.apply(this,arguments),A(o,r,a)}).originalHandler=a),w[o][r].push(i||a)},offEvent:function(e,t){A(s,e,t)},monitorIframe:function(e){var t=e,n=r;t.contentWindow?I(n,t.contentWindow):t.addEventListener("load",function(){return I(n,t.contentWindow)})},getCodeForIframe:function(e){return[b(Object.assign(t,{imp:s,fsRan:!0,cos:!0})),_(l)]}}}}function x(e,t){return Array.from(e.querySelectorAll("iframe[title=Advertisement]"))[t?0:1]}function O(e,t){return e.getSettings().getVpaidMode()===t.ImaSdkSettings.VpaidMode.INSECURE}function N(e){e.sandbox=h}function S(e,t){var n=e[0],e=e[1],n="<script>window.grumi="+JSON.stringify(n)+'<\/script><script src="'+e+'"><\/script>',n=["1-0-40",(e="<!DOCTYPE html><html><head></head><body>"+n+("<script>grumiInstance.initHooks(parent.frames["+t+"].frames[0]);<\/script>")+"</body></html>").length,e+'{"uid":"999","hostPeerName":"https://www.example.com","initialGeometry":"{\\"windowCoords_t\\":24,\\"windowCoords_r\\":3840,\\"windowCoords_b\\":1080,\\"windowCoords_l\\":1920,\\"frameCoords_t\\":15,\\"frameCoords_r\\":1437.5,\\"frameCoords_b\\":265,\\"frameCoords_l\\":467.5,\\"styleZIndex\\":\\"auto\\",\\"allowedExpansion_t\\":0,\\"allowedExpansion_r\\":467.5,\\"allowedExpansion_b\\":0,\\"allowedExpansion_l\\":467.5,\\"xInView\\":1,\\"yInView\\":0.752}","permissions":"{\\"expandByOverlay\\":false,\\"expandByPush\\":false,\\"readCookie\\":false,\\"writeCookie\\":false}","metadata":"{\\"shared\\":{\\"sf_ver\\":\\"1-0-40\\",\\"ck_on\\":1,\\"flash_ver\\":\\"0\\"}}","reportCreativeGeometry":false,"isDifferentSourceWindow":false,"goog_safeframe_hlt":{}}'].join(";"),e=((t=C()).src="https://tpc.googlesyndication.com/safeframe/1-0-40/html/container.html",t);return e.name=n,e}function B(n,e,t,o,r){var a=x(t,!0);if(N(a),"VPAID"===e.getApiFramework())O(o,r)&&n.monitorIframe(a),O(o,r)||(e=n,r=(o=a).ownerDocument.defaultView,r=Array.from(r.frames).indexOf(o.contentWindow),e=S(e.getCodeForIframe(),r),o.parentNode.appendChild(e));else{N(a=x(t));var r=a,i=function(e){var t=y(e.srcdoc);n.shouldBlock(t),n.monitorIframe(e)};try{var s=r.contentWindow.Node.prototype.appendChild;r.contentWindow.Node.prototype.appendChild=function(e){return e.id&&e.id.includes("omid-verification-script-frame")&&i(e),s.apply(this,arguments)}}catch(e){}}}function T(e,r){var a=e.adsLoader,t=e.adsManager,i=t.adTagUrl,n=e.imaWindow||window,s=e.containerElement,d=n.google.ima;t.addEventListener(d.AdEvent.Type.LOADED,function(e){var t,e=e.getAd(),n=(n=n=e,o=o=i,t={slot_element_id:(t=s).id,advertiser_name:n.getAdvertiserName()||n.getAdSystem()||"IMA",creative_id:n.getCreativeId()||n.getCreativeAdId(),vast_urls:[o],sp:"ima"},c.impression(t)),o=(r(n),[i,e.getMediaUrl(),e.data.clickThroughUrl].concat(y(e.getTraffickingParametersString())).filter(e=>e));n.shouldBlock(o),B(n,e,s,a,d)},!1,this)}function R(e){try{e()}catch(e){}}!s&&Math.random()<=.001&&(o=+new Date,window.addEventListener)&&window.addEventListener("beforeunload",function(){var e=+new Date,t={i:f,ua:navigator.userAgent||"",l:(location.hostname||"")+(location.pathname||""),tos:e-o},n=m,e="type=pimp&w_ver="+v+"&key="+l+"&ts="+e+"&meta="+encodeURIComponent(JSON.stringify(t));navigator.sendBeacon?(t=new Blob([e],{type:"application/x-www-form-urlencoded; charset=UTF-8"}),navigator.sendBeacon(n,t)):(new Image).src=n+"?"+e},!1),r=function(e,t,n){c.impression=k(e,t,n),c.EVENTS=p,c.monitorIMA=T,(window.geoedge=c).q.forEach(R),c.q.push=R},e=document.getElementsByTagName("script")[0].parentNode,a=C(),i=b({fsRan:!0,frameApi:!0}),a.onload=function(){var e=a.contentWindow,t=e.document,n=(e.grumi=i,t.createElement("script"));n.src=_(l),n.onload=function(){r(e.grumiInstance,e,t)},t.head.appendChild(n),a.onload=null},e.appendChild(a),window.addEventListener("message",function(e){var t,n,o,e=e.data;e.key===l&&e.meta&&e.meta.imp&&(t=e.meta.imp,n=w[t],e.blocked&&(o=n[p.BLOCK]),o=e.reported?n[p.REPORT]:o)&&o.length&&Array.from(o).forEach(function(e){e({impId:t})})})}();