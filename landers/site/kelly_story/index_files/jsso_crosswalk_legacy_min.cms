
// copy of https://jssocdn.indiatimes.com/crosswalk_sdk/sdk/jsso_crosswalk_legacy_0.7.95.min.js

"use strict";var _createClass=function(){function s(a,o){for(var n,l=0;l<o.length;l++)n=o[l],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(a,n.key,n)}return function(a,o,l){return o&&s(a.prototype,o),l&&s(a,l),a}}();function _toConsumableArray(s){if(Array.isArray(s)){for(var a=0,o=Array(s.length);a<s.length;a++)o[a]=s[a];return o}return Array.from(s)}function _classCallCheck(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}var JssoCrosswalk=function(){function s(n,t,r,d,p){_classCallCheck(this,s),this.channel=n,this.platform=t,window.showSsoFedCmIframe=window.showSsoFedCmIframe||r,this.ssoBaseUrl=d&&this.isValidDomain(d)?d+"/sso/crossapp/identity/web/":"https://jsso.indiatimes.com/sso/crossapp/identity/web/",this.socialappBaseUrl=p&&this.isValidDomain(p)?p+"/socialsite/crossapp/web/":"https://socialappsintegrator.indiatimes.com/socialsite/crossapp/web/",this.sdkVersion="0.7.95",this.csrfToken=this.getCookie("csrfToken"),this.ssec=this.getCookie("jsso_crosswalk_ssec_"+this.channel),this.tksec=this.getCookie("jsso_crosswalk_tksec_"+this.channel),this.csut=this.getCookie("csut"),this.gdpr=this.getCookie("gdpr"),this.userDetails=this.getSessionStorage("jsso_crosswalk_user_details"),this.profileDetails=this.getSessionStorage("jsso_crosswalk_profile_details"),this.captchaToken=this.getCookie("captchaToken"),this.UNAUTHORIZED_ACCESS_RESPONSE={code:404,message:"UNAUTHORIZED_ACCESS",status:"FAILURE",data:null},this.CONNECTION_ERROR_RESPONSE={code:503,message:"CONNECTION_ERROR",status:"FAILURE",data:null},this.CONNECTION_TIMEOUT_RESPONSE={code:504,message:"CONNECTION_TIMEOUT",status:"FAILURE",data:null},this.APP_CONNECTION_TIMEOUT_RESPONSE={code:505,message:"TRUECALLER_LOGIN_FAILURE",status:"FAILURE",data:null},this.INVALID_MOBILE={code:402,message:"INVALID_MOBILE",status:"FAILURE",data:null},this.INVALID_EMAIL={code:403,message:"INVALID_EMAIL",status:"FAILURE",data:null},this.INVALID_REQUEST={code:413,message:"INVALID_REQUEST",status:"FAILURE",data:null},this.INVALID_PASSWORD={code:417,message:"INVALID_PASSWORD",status:"FAILURE",data:null},this.INVALID_DOMAIN={code:418,message:"INVALID_DOMAIN",status:"FAILURE",data:null},this.waitForloginWithTicket=!1,window.ssofpslogincheck=!0;var C=new URLSearchParams(window.location.search),y=C.get("ticketId"),g=this.getChannelCookies();y?this.getV1ValidLoggedInUser(y,!1):""!=g.login&&""==g.daily&&this.getValidLoggedInUser();var k=window.location.href,u=this;if(getParameterByName("code",k)){var I=getParameterByName("state",k).split(",");"SSOTLOGINGOOGLEPLUS"==I[0]&&this.googleplusLogin(getParameterByName("code",k),I[1],function(m){200==m.code&&u.SocialloginSucces(m)}),"SSOTLOGINAPPLE"==I[0]&&this.appleLogin(getParameterByName("code",k),function(m){200==m.code&&u.SocialloginSucces(m)}),"SSOTLOGINFACEBOOK"==I[0]&&this.facebookLogin(getParameterByName("code",k),I[1],function(m){(200==m.code||4413==m.code&&m.stateid)&&u.SocialloginSucces(m)}),"SSOTLOGINMICROSOFT"==I[0]&&this.microsoftLogin(getParameterByName("code",k),I[1],function(m){(200==m.code||4413==m.code&&m.stateid)&&u.SocialloginSucces(m)}),"SSOTLOGINLINKEDIN"==getParameterByName("state",k)[0]&&this.linkedinLogin(getParameterByName("code",k),window.location.href.split("?")[0],function(m){200==m.code&&u.SocialloginSucces(m)})}}return _createClass(s,[{key:"SocialloginSucces",value:function SocialloginSucces(n){if(this.fedcmInIfram(n),"undefined"!=typeof BroadcastChannel){var t=new BroadcastChannel(this.channel);t.postMessage({sender:"applelogin",message:n})}else window.opener?window.opener.postMessage({sender:"applelogin",message:n},"*"):window.parent&&window.parent.JssoLoginCompleteCallback&&window.parent.JssoLoginCompleteCallback(n);window.close()}},{key:"fedcmInIfram",value:function fedcmInIfram(n){if(window.showSsoFedCmIframe){var t=this.ssoBaseUrl.split("/sso")[0]+"/sso/identity/login/setLoginStatus";if(n)this.getValidLoggedInUser(function(d){t=t+"?ticketId="+d.data.encTicket+"&openforfedcm="+!0;window.open(t,"ssoLoginWindownew","menubar=no,locationbar=n0,toolbar=no,status=no,menubar=no,scrollbars=no,resizable=no,left=10000,top=10000,width=10,height=10,visible=none")});else{var r=window.open(t,"ssoLoginWindownew","menubar=no,locationbar=n0,toolbar=no,status=no,menubar=no,scrollbars=no,resizable=no,left=10000,top=10000,width=10,height=10,visible=none");setTimeout(function(){r.close()},0)}}}},{key:"asyncJssoCall",value:function asyncJssoCall(n,t,r){this.asyncCall(this.ssoBaseUrl+n,t,r,n)}},{key:"asyncJssoCallWithHeaders",value:function asyncJssoCallWithHeaders(n,t,r,d){this.asyncCallWithHeaders(this.ssoBaseUrl+n,t,r,d)}},{key:"asyncSocialappCall",value:function asyncSocialappCall(n,t,r){this.asyncCall(this.socialappBaseUrl+n,t,r,n)}},{key:"asyncCall",value:function asyncCall(n,t,r,d){var p=new XMLHttpRequest;p.open("POST",n),p.timeout=3e4,p.withCredentials=!0,p.setRequestHeader("content-type","application/json"),p.setRequestHeader("channel",this.channel),p.setRequestHeader("platform",this.platform),p.setRequestHeader("sdkVersion",this.sdkVersion),p.setRequestHeader("IsJssoCrosswalk","true"),p.setRequestHeader("csrfToken",this.getCookie("csrfToken")||this.csrfToken),p.setRequestHeader("captchaToken",this.getCookie("captchaToken")||this.captchaToken),p.setRequestHeader("ssec",this.getCookie("jsso_crosswalk_ssec_"+this.channel)),p.setRequestHeader("tksec",this.getCookie("jsso_crosswalk_tksec_"+this.channel)),p.setRequestHeader("csut",this.getCookie("csut")),p.setRequestHeader("gdpr",this.getCookie("gdpr")),p.responseType="json",p.onload=function(){var g=p.response;return("string"==typeof g&&(g=JSON.parse(g)),!g||!g.code)?(this.deleteChannelCookies(),void(r&&r(this.UNAUTHORIZED_ACCESS_RESPONSE))):404==g.code?(this.deleteChannelCookies(),void(r&&r(g))):(p.getResponseHeader("ssec")&&(this.ssec=p.getResponseHeader("ssec")),p.getResponseHeader("tksec")&&(this.tksec=p.getResponseHeader("tksec")),p.getResponseHeader("csut")&&(this.csut=p.getResponseHeader("csut")),p.getResponseHeader("gdpr")&&(this.gdpr=p.getResponseHeader("gdpr")),p.getResponseHeader("csrfToken")&&(this.csrfToken=p.getResponseHeader("csrfToken"),this.createCookie("csrfToken",p.getResponseHeader("csrfToken"),2592000000)),p.getResponseHeader("captchaToken")&&(this.captchaToken=p.getResponseHeader("captchaToken"),this.createCookie("captchaToken",p.getResponseHeader("captchaToken"),2592000000)),"getUserDetails"===d?(this.userDetails=JSON.stringify(g),this.userDetails&&this.setSessionStorage("jsso_crosswalk_user_details",this.userDetails,15)):"getUserProfile"==d&&(this.profileDetails=JSON.stringify(g),this.profileDetails&&this.setSessionStorage("jsso_crosswalk_profile_details",this.profileDetails,15)),r)?r(g):void 0}.bind(this),p.onerror=function(){if(r)return r(this.CONNECTION_ERROR_RESPONSE)}.bind(this),p.ontimeout=function(){if(r)return r(this.CONNECTION_TIMEOUT_RESPONSE)}.bind(this),p.send(JSON.stringify(t))}},{key:"asyncCallWithHeaders",value:function asyncCallWithHeaders(n,t,r,d){var p=new XMLHttpRequest;if(p.open("POST",n),p.timeout=3e4,p.withCredentials=!0,p.setRequestHeader("content-type","application/json"),p.setRequestHeader("channel",this.channel),p.setRequestHeader("platform",this.platform),p.setRequestHeader("sdkVersion",this.sdkVersion),p.setRequestHeader("IsJssoCrosswalk","true"),p.setRequestHeader("csrfToken",this.getCookie("csrfToken")||this.csrfToken),p.setRequestHeader("captchaToken",this.getCookie("captchaToken")||this.captchaToken),p.setRequestHeader("csut",this.getCookie("csut")),p.setRequestHeader("gdpr",this.getCookie("this.gdpr")),p.responseType="json",r)for(var g in r)p.setRequestHeader(g,r[g]);else p.setRequestHeader("ssec",this.getCookie("jsso_crosswalk_ssec_"+this.channel)),p.setRequestHeader("tksec",this.getCookie("jsso_crosswalk_tksec_"+this.channel));p.onload=function(){var k=p.response;return("string"==typeof k&&(k=JSON.parse(k)),!k||!k.code)?(this.deleteChannelCookies(),void(d&&d(this.UNAUTHORIZED_ACCESS_RESPONSE))):404==k.code?(this.deleteChannelCookies(),void(d&&d(k))):(p.getResponseHeader("csrfToken")&&(this.csrfToken=p.getResponseHeader("csrfToken"),this.createCookie("csrfToken",p.getResponseHeader("csrfToken"),2592000000)),p.getResponseHeader("captchaToken")&&(this.captchaToken=p.getResponseHeader("captchaToken"),this.createCookie("captchaToken",p.getResponseHeader("captchaToken"),2592000000)),p.getResponseHeader("ssec")&&(this.ssec=p.getResponseHeader("ssec")),p.getResponseHeader("tksec")&&(this.tksec=p.getResponseHeader("tksec")),p.getResponseHeader("csut")&&(this.csut=p.getResponseHeader("csut")),p.getResponseHeader("gdpr")&&(this.gdpr=p.getResponseHeader("gdpr")),d)?d(k):void 0}.bind(this),p.onerror=function(){if(d)return d(this.CONNECTION_ERROR_RESPONSE)}.bind(this),p.ontimeout=function(){if(d)return d(this.CONNECTION_TIMEOUT_RESPONSE)}.bind(this),p.send(JSON.stringify(t))}},{key:"fedcmLogin",value:function fedcmLogin(n){var r=this;if(""==this.getCookie("jsso_crosswalk_tksec_"+this.channel)&&"IdentityCredential"in window){var t=Math.random().toString().substring(7);navigator.credentials.get({identity:{providers:[{configURL:this.ssoBaseUrl.split("/sso")[0]+"/fedcm.json",clientId:"TIMES",nonce:t}]}}).then(function(d){var p=d.token;null!=p&&r.getV1ValidLoggedInUser(p,!1,n)}).catch(function(d){console.log(d)})}}},{key:"FPSLOGIN",value:function FPSLOGIN(n,t){var r=this,d=this.ssoBaseUrl.split("/sso")[0]+"/";try{navigator&&navigator.permissions&&navigator.permissions.query&&navigator.permissions.query({name:"top-level-storage-access",requestedOrigin:d}).then(function(p){if("granted"===p.state)"requestStorageAccessFor"in document&&document.requestStorageAccessFor(d).then(function(){t?r.getValidLoggedInUser():r.getValidLoggedInUser(n)},function(){r.fedcmLogin(),console.log("Storage-access permission granted, immediately request storage access.")});else if("prompt"===p.state){var g=!0;window.onclick=function(){"requestStorageAccessFor"in document&&g&&(g=!1,document.requestStorageAccessFor(d).then(function(){t?r.getValidLoggedInUser():r.getValidLoggedInUser(n)},function(){r.fedcmLogin(n),console.log("Storage-access permission granted, immediately request storage access.")}))}}})}catch(p){}}},{key:"getValidLoggedInUser",value:function getValidLoggedInUser(n,t){var d=this;if(this.waitForloginWithTicket)var r=setInterval(function(){d.waitForloginWithTicket||(clearInterval(r),d.getValidLoggedInUser(n))},50);else this.asyncJssoCall("loggedInUser",{},function(p){if(200==p.code?this.createChannelCookies():window.ssofpslogincheck&&(window.ssofpslogincheck=!1,this.FPSLOGIN(n,t)),n)return n(p)}.bind(this))}},{key:"getV1ValidLoggedInUser",value:function getV1ValidLoggedInUser(n){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,r=arguments[2];this.waitForloginWithTicket=!0,this.asyncJssoCallWithHeaders("v1LoggedInUser",{},{ticketId:n},function(d){if(this.waitForloginWithTicket=!1,200==d.code&&(navigator.login.setStatus("logged-in"),this.createChannelCookies(),getParameterByName("openforfedcm")&&window.close(),t&&location.reload()),r)return r(d)}.bind(this))}},{key:"getValidAppLoggedInUser",value:function getValidAppLoggedInUser(n,t,r,d,p){this.asyncJssoCallWithHeaders("appLoggedInUser",{},{ssoid:n,ssec:t,ticketId:r,tksec:d},function(g){if(200==g.code&&this.createChannelCookies(),p)return p(g)}.bind(this))}},{key:"checkUserExists",value:function checkUserExists(n,t){this.asyncJssoCall("checkUserExists",{identifier:n},t)}},{key:"registerUser",value:function registerUser(n,t,r,d,p,g,k,u,I,C,y,m,L){return p||g?p&&!this.isValidEmail(p)?m(this.INVALID_EMAIL):g&&!this.isValidMobile(g)?m(this.INVALID_MOBILE):this.isValidPassword(k)?void(L?this.asyncJssoCall("registerUser",{firstName:n,lastName:t,gender:r,dob:d,email:p,mobile:g,password:k,isSendOffer:u,termsAccepted:I,shareDataAllowed:C,timespointsPolicy:y,userRecaptchaResponseToken:L},function(h){if(200==h.code&&this.createChannelCookies(),m)return m(h)}.bind(this)):this.asyncJssoCall("registerUser",{firstName:n,lastName:t,gender:r,dob:d,email:p,mobile:g,password:k,isSendOffer:u,termsAccepted:I,shareDataAllowed:C,timespointsPolicy:y},m)):m(this.INVALID_PASSWORD):m(this.INVALID_REQUEST)}},{key:"registerUserRecaptcha",value:function registerUserRecaptcha(n,t,r,d,p,g,k,u,I,C,y,m,L){return p||g?p&&!this.isValidEmail(p)?L(this.INVALID_EMAIL):g&&!this.isValidMobile(g)?L(this.INVALID_MOBILE):this.isValidPassword(k)?void this.asyncJssoCall("registerUserRecaptcha",{firstName:n,lastName:t,gender:r,dob:d,email:p,mobile:g,password:k,isSendOffer:u,recaptcha:I,termsAccepted:C,shareDataAllowed:y,timespointsPolicy:m},function(h){if(200==h.code&&this.createChannelCookies(),L)return L(h)}.bind(this)):L(this.INVALID_PASSWORD):L(this.INVALID_REQUEST)}},{key:"resendMobileSignUpOtp",value:function resendMobileSignUpOtp(n,t,r,d){return this.isValidMobile(n)?void(d?this.asyncJssoCall("resendSignUpOtp",{mobile:n,ssoid:t,userRecaptchaResponseToken:d},r):this.asyncJssoCall("resendSignUpOtp",{mobile:n,ssoid:t},r)):r(this.INVALID_MOBILE)}},{key:"resendEmailSignUpOtp",value:function resendEmailSignUpOtp(n,t,r,d){return this.isValidEmail(n)?void(d?this.asyncJssoCall("resendSignUpOtp",{email:n,ssoid:t,userRecaptchaResponseToken:d},function(p){if(200==p.code&&this.createChannelCookies(),r)return r(p)}.bind(this)):this.asyncJssoCall("resendSignUpOtp",{email:n,ssoid:t},r)):r(this.INVALID_EMAIL)}},{key:"verifyMobileSignUp",value:function verifyMobileSignUp(n,t,r,d){return this.isValidMobile(n)?void this.asyncJssoCall("verifySignUpOTP",{mobile:n,ssoid:t,otp:r},function(p){if(200==p.code&&(this.createChannelCookies(),this.fedcmInIfram(p)),d)return d(p)}.bind(this)):d(this.INVALID_MOBILE)}},{key:"verifyEmailSignUp",value:function verifyEmailSignUp(n,t,r,d){return this.isValidEmail(n)?void this.asyncJssoCall("verifySignUpOTP",{email:n,ssoid:t,otp:r},function(p){if(200==p.code&&(this.createChannelCookies(),this.fedcmInIfram(p)),d)return d(p)}.bind(this)):d(this.INVALID_EMAIL)}},{key:"verifyMobileLogin",value:function verifyMobileLogin(n,t,r){return this.isValidMobile(n)?void this.asyncJssoCall("verifyLoginOtpPassword",{mobile:n,password:t},function(d){if(200==d.code&&(this.createChannelCookies(),this.fedcmInIfram(d)),r)return r(d)}.bind(this)):r(this.INVALID_MOBILE)}},{key:"verifyEmailLogin",value:function verifyEmailLogin(n,t,r){return this.isValidEmail(n)?void this.asyncJssoCall("verifyLoginOtpPassword",{email:n,password:t},function(d){if(200==d.code&&(this.createChannelCookies(),this.fedcmInIfram(d)),r)return r(d)}.bind(this)):r(this.INVALID_EMAIL)}},{key:"v1VerifyMobileLogin",value:function v1VerifyMobileLogin(n,t,r){return this.isValidMobile(n)?void this.asyncJssoCall("v1VerifyLoginOtp",{mobile:n,password:t},function(d){if(200==d.code&&(this.createChannelCookies(),this.fedcmInIfram(d)),r)return r(d)}.bind(this)):r(this.INVALID_MOBILE)}},{key:"v1VerifyEmailLogin",value:function v1VerifyEmailLogin(n,t,r){return this.isValidEmail(n)?void this.asyncJssoCall("v1VerifyLoginOtp",{email:n,password:t},function(d){if(200==d.code&&(this.createChannelCookies(),this.fedcmInIfram(d)),r)return r(d)}.bind(this)):r(this.INVALID_EMAIL)}},{key:"verifyMobileLoginForOptIn",value:function verifyMobileLoginForOptIn(n,t,r){return this.isValidMobile(n)?void this.asyncJssoCall("verifyLoginOtpPassword",{mobile:n,password:t,optInRequest:!0},function(d){if(200==d.code&&(this.createChannelCookies(),this.fedcmInIfram(d)),r)return r(d)}.bind(this)):r(this.INVALID_MOBILE)}},{key:"verifyEmailLoginForOptIn",value:function verifyEmailLoginForOptIn(n,t,r){return this.isValidEmail(n)?void this.asyncJssoCall("verifyLoginOtpPassword",{email:n,password:t,optInRequest:!0},function(d){if(200==d.code&&(this.createChannelCookies(),this.fedcmInIfram(d)),r)return r(d)}.bind(this)):r(this.INVALID_EMAIL)}},{key:"optIn",value:function optIn(n){this.asyncJssoCall("optIn",{},function(t){if(n)return n(t)}.bind(this))}},{key:"facebookLogin",value:function facebookLogin(n,t,r){this.asyncSocialappCall("facebookLogin",{code:n,facebookRedirectUri:t},function(d){if(200==d.code&&this.createChannelCookies(),r)return r(d)}.bind(this))}},{key:"appleLogin",value:function appleLogin(n,t){this.asyncSocialappCall("appleLogin",{code:n},function(r){if(200==r.code&&this.createChannelCookies(),t)return t(r)}.bind(this))}},{key:"googleplusLogin",value:function googleplusLogin(n,t,r){this.asyncSocialappCall("googleplusLogin",{code:n,googleplusRedirectUri:t},function(d){if(200==d.code&&(this.createChannelCookies(),this.fedcmInIfram(d)),r)return r(d)}.bind(this))}},{key:"linkedinLogin",value:function linkedinLogin(n,t,r){this.asyncSocialappCall("linkedinLogin",{code:n,linkedinRedirectUri:t},function(d){if(200==d.code&&(this.createChannelCookies(),this.fedcmInIfram(d)),r)return r(d)}.bind(this))}},{key:"microsoftLogin",value:function microsoftLogin(n,t,r){this.asyncSocialappCall("microsoftLogin",{code:n,microsoftRedirectUri:t},function(d){if(200==d.code&&(this.createChannelCookies(),this.fedcmInIfram(d)),r)return r(d)}.bind(this))}},{key:"getUserProfile",value:function getUserProfile(n){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!this.profileDetails||t)this.asyncJssoCall("getUserProfile",{},n);else if(n)return n(JSON.parse(this.profileDetails))}},{key:"getUserDetails",value:function getUserDetails(n){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!this.userDetails||t)this.asyncJssoCall("getUserDetails",{},n);else if(n)return n(JSON.parse(this.userDetails))}},{key:"sendUpdateOtp",value:function sendUpdateOtp(n,t){t?this.asyncJssoCall("sendUpdateOtp",{},function(r){if(200==r.code&&this.createChannelCookies(),n)return n(r)}.bind(this)):this.asyncJssoCall("sendUpdateOtp",{},n)}},{key:"getMobileLoginOtp",value:function getMobileLoginOtp(n,t,r){return this.isValidMobile(n)?void(void 0==r?this.asyncJssoCall("getLoginOtp",{mobile:n},function(d){if(200==d.code&&this.createChannelCookies(),t)return t(d)}.bind(this)):this.asyncJssoCall("getLoginOtp",{mobile:n,userRecaptchaResponseToken:r},t)):t(this.INVALID_MOBILE)}},{key:"getMobileLoginOtpForOptIn",value:function getMobileLoginOtpForOptIn(n,t,r){return this.isValidMobile(n)?void(void 0==r?this.asyncJssoCall("getLoginOtp",{mobile:n},function(d){if(200==d.code&&this.createChannelCookies(),t)return t(d)}.bind(this)):this.asyncJssoCall("getLoginOtp",{mobile:n,optInRequest:!0,userRecaptchaResponseToken:r},t)):t(this.INVALID_MOBILE)}},{key:"getEmailLoginOtp",value:function getEmailLoginOtp(n,t,r){return this.isValidEmail(n)?void(void 0==r?this.asyncJssoCall("getLoginOtp",{email:n},t):this.asyncJssoCall("getLoginOtp",{email:n,userRecaptchaResponseToken:r},t)):t(this.INVALID_EMAIL)}},{key:"getEmailLoginOtpForOptIn",value:function getEmailLoginOtpForOptIn(n,t,r){return this.isValidEmail(n)?void(void 0==r?this.asyncJssoCall("getLoginOtp",{email:n},t):this.asyncJssoCall("getLoginOtp",{email:n,optInRequest:!0,userRecaptchaResponseToken:r},t)):t(this.INVALID_EMAIL)}},{key:"updateUserProfile",value:function updateUserProfile(n,t,r,d,p,g,k,u){this.asyncJssoCall("updateUserProfile",{firstName:n,lastName:t,gender:r,dob:d,city:p,termsAccepted:g,shareDataAllowed:k},function(I){if(200==I.code&&this.createChannelCookies(),u)return u(I)}.bind(this))}},{key:"getMobileForgotPasswordOtp",value:function getMobileForgotPasswordOtp(n,t,r){return this.isValidMobile(n)?void(r?this.asyncJssoCall("getForgotPasswordOtp",{mobile:n,userRecaptchaResponseToken:r},t):this.asyncJssoCall("getForgotPasswordOtp",{mobile:n},function(d){if(200==d.code&&this.createChannelCookies(),t)return t(d)}.bind(this))):t(this.INVALID_MOBILE)}},{key:"getEmailForgotPasswordOtp",value:function getEmailForgotPasswordOtp(n,t,r){return this.isValidEmail(n)?void(r?this.asyncJssoCall("getForgotPasswordOtp",{email:n,userRecaptchaResponseToken:r},t):this.asyncJssoCall("getForgotPasswordOtp",{email:n},t)):t(this.INVALID_EMAIL)}},{key:"verifyMobileForgotPassword",value:function verifyMobileForgotPassword(n,t,r,d,p){return this.isValidMobile(n)?this.isValidPassword(r)?void this.asyncJssoCall("verifyForgotPassword",{mobile:n,otp:t,password:r,confirmPassword:d},p):p(this.INVALID_PASSWORD):p(this.INVALID_MOBILE)}},{key:"verifyEmailForgotPassword",value:function verifyEmailForgotPassword(n,t,r,d,p){return this.isValidEmail(n)?this.isValidPassword(r)?void this.asyncJssoCall("verifyForgotPassword",{email:n,otp:t,password:r,confirmPassword:d},p):p(this.INVALID_PASSWORD):p(this.INVALID_EMAIL)}},{key:"loginMobileForgotPassword",value:function loginMobileForgotPassword(n,t,r,d,p){return this.isValidMobile(n)?this.isValidPassword(r)?void this.asyncJssoCall("loginForgotPassword",{mobile:n,otp:t,password:r,confirmPassword:d},function(g){if(200==g.code&&this.createChannelCookies(),p)return p(g)}.bind(this)):p(this.INVALID_PASSWORD):p(this.INVALID_MOBILE)}},{key:"loginEmailForgotPassword",value:function loginEmailForgotPassword(n,t,r,d,p){return this.isValidEmail(n)?this.isValidPassword(r)?void this.asyncJssoCall("loginForgotPassword",{email:n,otp:t,password:r,confirmPassword:d},function(g){if(200==g.code&&this.createChannelCookies(),p)return p(g)}.bind(this)):p(this.INVALID_PASSWORD):p(this.INVALID_EMAIL)}},{key:"signOutUser",value:function signOutUser(n){this.asyncJssoCall("signOutUser",{},function(t){if(this.deleteChannelCookies(),sessionStorage.removeItem("jsso_crosswalk_user_details"),this.userDetails="",this.fedcmInIfram(),n)return n(t)}.bind(this))}},{key:"updateMobile",value:function updateMobile(n,t,r){return this.isValidMobile(n)?void(r?this.asyncJssoCall("updateMobile",{mobile:n,userRecaptchaResponseToken:r},function(d){if(200==d.code&&this.createChannelCookies(),t)return t(d)}.bind(this)):this.asyncJssoCall("updateMobile",{mobile:n},t)):t(this.INVALID_MOBILE)}},{key:"v1UpdateMobile",value:function v1UpdateMobile(n,t,r){return this.isValidMobile(n)?void(r?this.asyncJssoCall("v1UpdateMobile",{mobile:n,userRecaptchaResponseToken:r},t):this.asyncJssoCall("updateMobile",{mobile:n},asyncJssoCallWithHeaders,t)):t(this.INVALID_MOBILE)}},{key:"verifyMobile",value:function verifyMobile(n,t,r){return this.isValidMobile(n)?void this.asyncJssoCall("verifyMobile",{mobile:n,otp:t},r):r(this.INVALID_MOBILE)}},{key:"addAlternateEmail",value:function addAlternateEmail(n,t){return this.isValidEmail(n)?void this.asyncJssoCall("addAlternateEmail",{email:n},t):t(this.INVALID_EMAIL)}},{key:"v1AddUpdateEmail",value:function v1AddUpdateEmail(n,t,r){return this.isValidEmail(n)?void(r?this.asyncJssoCall("v1AddUpdateEmail",{email:n,userRecaptchaResponseToken:r},function(d){if(200==d.code&&this.createChannelCookies(),t)return t(d)}.bind(this)):this.asyncJssoCall("v1AddUpdateEmail",{email:n},t)):t(this.INVALID_EMAIL)}},{key:"v1AddUpdateMobile",value:function v1AddUpdateMobile(n,t,r){return this.isValidMobile(n)?void(r?this.asyncJssoCall("v1AddUpdateMobile",{mobile:n,userRecaptchaResponseToken:r},function(d){if(200==d.code&&this.createChannelCookies(),t)return t(d)}.bind(this)):this.asyncJssoCall("v1AddUpdateMobile",{mobile:n},t)):t(this.INVALID_MOBILE)}},{key:"verifyAlternateEmail",value:function verifyAlternateEmail(n,t,r){return this.isValidEmail(n)?void this.asyncJssoCall("verifyAlternateEmail",{email:n,otp:t},r):r(this.INVALID_EMAIL)}},{key:"v1VerifyAlternateEmail",value:function v1VerifyAlternateEmail(n,t,r,d){return this.isValidEmail(n)?void this.asyncJssoCall("v1verifyAlternateEmail",{email:n,otp:t,uuid:r},d):d(this.INVALID_EMAIL)}},{key:"v1VerifyAlternateMobile",value:function v1VerifyAlternateMobile(n,t,r,d){return this.isValidMobile(n)?void this.asyncJssoCall("v1verifyAlternateMobile",{mobile:n,otp:t,uuid:r},d):d(this.INVALID_MOBILE)}},{key:"verifyUpdateOtp",value:function verifyUpdateOtp(n,t,r){this.asyncJssoCall("verifyUpdateOtp",{otp:n,uuid:t},r)}},{key:"linkFacebook",value:function linkFacebook(n,t,r){this.asyncJssoCall("linkSocial",{oauthSiteId:"facebook",oauthCode:n,redirectUri:t},r)}},{key:"linkGoogleplus",value:function linkGoogleplus(n,t,r){this.asyncJssoCall("linkSocial",{oauthSiteId:"googleplus",oauthCode:n,redirectUri:t},r)}},{key:"linkLinkedin",value:function linkLinkedin(n,t,r){this.asyncJssoCall("linkSocial",{oauthSiteId:"linkedin",oauthCode:n,redirectUri:t},r)}},{key:"delinkSocial",value:function delinkSocial(n,t){this.asyncJssoCall("delinkSocial",{oauthSiteId:n},t)}},{key:"setPassword",value:function setPassword(n,t,r){return this.isValidPassword(n)?void this.asyncJssoCall("setPassword",{newPassword:n,confirmPassword:t},r):r(this.INVALID_PASSWORD)}},{key:"changePassword",value:function changePassword(n,t,r,d){return this.isValidPassword(t)?void this.asyncJssoCall("changePassword",{oldPassword:n,newPassword:t,confirmPassword:r},d):d(this.INVALID_PASSWORD)}},{key:"changePrimaryEmail",value:function changePrimaryEmail(n,t){return this.isValidEmail(n)?void this.asyncJssoCall("changePrimaryEmail",{emailId:n},t):t(this.INVALID_EMAIL)}},{key:"facebookLoginAccessToken",value:function facebookLoginAccessToken(n,t,r){this.asyncSocialappCall("facebookLogin",{accessToken:n,facebookRedirectUri:t},function(d){if(200==d.code&&this.createChannelCookies(),r)return r(d)}.bind(this))}},{key:"linkFacebookAccessToken",value:function linkFacebookAccessToken(n,t,r){this.asyncJssoCall("linkSocial",{oauthSiteId:"facebook",accessToken:n,redirectUri:t},r)}},{key:"socialImageUpload",value:function socialImageUpload(n,t){this.asyncJssoCall("socialImageUpload",{oauthSiteId:n},t)}},{key:"updateProfilePic",value:function updateProfilePic(n,t){var r=this.ssoBaseUrl+"uploadProfilePic",d=new FormData;d.append("datafile",n);var p=new XMLHttpRequest;p.open("POST",r),p.timeout=3e4,p.withCredentials=!0,p.setRequestHeader("channel",this.channel),p.setRequestHeader("platform",this.platform),p.setRequestHeader("sdkVersion",this.sdkVersion),p.setRequestHeader("IsJssoCrosswalk","true"),p.setRequestHeader("csrfToken",this.getCookie("csrfToken")),p.setRequestHeader("captchaToken",this.getCookie("captchaToken")),p.setRequestHeader("ssec",this.getCookie("jsso_crosswalk_ssec_"+this.channel)),p.setRequestHeader("tksec",this.getCookie("jsso_crosswalk_tksec_"+this.channel)),p.responseType="json",p.onload=function(){var g=p.response;return("string"==typeof g&&(g=JSON.parse(g)),!g||!g.code)?(this.deleteChannelCookies(),void(t&&t(this.UNAUTHORIZED_ACCESS_RESPONSE))):404==g.code?(this.deleteChannelCookies(),void(t&&t(g))):(p.getResponseHeader("csrftoken")&&(this.csrfToken=p.getResponseHeader("csrftoken")),p.getResponseHeader("captchaToken")&&(this.captchaToken=p.getResponseHeader("captchaToken")),p.getResponseHeader("ssec")&&(this.ssec=p.getResponseHeader("ssec")),p.getResponseHeader("tksec")&&(this.tksec=p.getResponseHeader("tksec")),t)?t(g):void 0}.bind(this),p.onerror=function(){if(t)return t(this.CONNECTION_ERROR_RESPONSE)}.bind(this),p.ontimeout=function(){if(t)return t(this.CONNECTION_TIMEOUT_RESPONSE)}.bind(this),p.send(d)}},{key:"registerOnlyMobile",value:function registerOnlyMobile(n,t,r,d,p,g,k,u,I){return d?d&&!this.isValidMobile(d)?u(this.INVALID_MOBILE):void(I?this.asyncJssoCall("registerOnlyMobile",{firstName:n,lastName:t,gender:r,mobile:d,termsAccepted:p,shareDataAllowed:g,timespointsPolicy:k,userRecaptchaResponseToken:I},function(C){if(200==C.code&&this.createChannelCookies(),u)return u(C)}.bind(this)):this.asyncJssoCall("registerOnlyMobile",{firstName:n,lastName:t,gender:r,mobile:d,termsAccepted:p,shareDataAllowed:g,timespointsPolicy:k},u)):u(this.INVALID_REQUEST)}},{key:"truecallerLogin",value:function truecallerLogin(n,t){return n?n&&!this.isValidMobile(n)?t(this.INVALID_MOBILE):void this.asyncJssoCall("truecallerLogin",{mobile:n},t):t(this.INVALID_REQUEST)}},{key:"truecallerVerify",value:function truecallerVerify(n,t){return n?void this.asyncJssoCall("truecallerVerify",{requestId:n},function(r){if(200==r.code&&this.createChannelCookies(),t)return t(r)}.bind(this)):t(this.INVALID_REQUEST)}},{key:"addAlternateEmailTrap",value:function addAlternateEmailTrap(n,t,r,d){return this.isValidEmail(n)?void this.asyncJssoCall("addAlternateEmailIdTrap",{email:n,password:t,alterEmail:r},d):d(this.INVALID_EMAIL)}},{key:"verifyAlternateEmailTrap",value:function verifyAlternateEmailTrap(n,t,r,d,p){return this.isValidEmail(n)?void this.asyncJssoCall("verifyAlternateEmailIdTrap",{email:n,password:t,alterEmail:r,otp:d},p):p(this.INVALID_EMAIL)}},{key:"addAlternateMobileTrap",value:function addAlternateMobileTrap(n,t,r,d){return this.isValidEmail(n)?void this.asyncJssoCall("addAlternateEmailIdTrap",{email:n,password:t,alterMobile:r},d):d(this.INVALID_EMAIL)}},{key:"verifyAlternateMobileTrap",value:function verifyAlternateMobileTrap(n,t,r,d,p){return this.isValidEmail(n)?void this.asyncJssoCall("verifyAlternateMobileTrap",{email:n,password:t,alterMobile:r,otp:d},p):p(this.INVALID_EMAIL)}},{key:"deleteAccount",value:function deleteAccount(n,t){this.asyncJssoCall("deleteUser",{password:n},t)}},{key:"getChannelDetails",value:function getChannelDetails(n,t,r){this.asyncJssoCall("channelDetails",{channel:n,ru:t},r)}},{key:"gpOneTapLogin",value:function gpOneTapLogin(n,t){this.asyncJssoCall("gpOneTap",{token:n},function(r){if(200==r.code&&this.createChannelCookies(),t)return t(r)}.bind(this))}},{key:"subscriberLogin",value:function subscriberLogin(n,t){this.asyncJssoCall("subscriberLogin",{token:n},function(r){if(200==r.code&&this.createChannelCookies(),t)return t(r)}.bind(this))}},{key:"verifyMobileLoginGdpr",value:function verifyMobileLoginGdpr(n,t,r,d,p,g){return this.isValidMobile(n)?void this.asyncJssoCall("verifyLoginOtpPasswordGdpr",{mobile:n,password:t,termsAccepted:r,shareDataAllowed:d,timespointsPolicy:p},function(k){if(200==k.code&&this.createChannelCookies(),g)return g(k)}.bind(this)):g(this.INVALID_MOBILE)}},{key:"verifyMobileLoginGdprForOptIn",value:function verifyMobileLoginGdprForOptIn(n,t,r,d,p,g){return this.isValidMobile(n)?void this.asyncJssoCall("verifyLoginOtpPasswordGdpr",{mobile:n,password:t,termsAccepted:r,shareDataAllowed:d,timespointsPolicy:p},function(k){if(200==k.code&&this.createChannelCookies(),g)return g(k)}.bind(this)):g(this.INVALID_MOBILE)}},{key:"verifyEmailLoginGdpr",value:function verifyEmailLoginGdpr(n,t,r,d,p,g){return this.isValidEmail(n)?void this.asyncJssoCall("verifyLoginOtpPasswordGdpr",{email:n,password:t,termsAccepted:r,shareDataAllowed:d,timespointsPolicy:p},function(k){if(200==k.code&&this.createChannelCookies(),g)return g(k)}.bind(this)):g(this.INVALID_EMAIL)}},{key:"verifyEmailLoginGdprForOptIn",value:function verifyEmailLoginGdprForOptIn(n,t,r,d,p,g){return this.isValidEmail(n)?void this.asyncJssoCall("verifyLoginOtpPasswordGdpr",{email:n,password:t,optInRequest:!0,termsAccepted:r,shareDataAllowed:d,timespointsPolicy:p},function(k){if(200==k.code&&this.createChannelCookies(),g)return g(k)}.bind(this)):g(this.INVALID_EMAIL)}},{key:"updateUserPermissions",value:function updateUserPermissions(n,t,r,d){this.asyncJssoCall("updateUserPermissions",{termsAccepted:n,shareDataAllowed:t,timespointsPolicy:r},function(p){if(200==p.code&&this.createChannelCookies(),d)return d(p)}.bind(this))}},{key:"truecallerOneTapLogin",value:function truecallerOneTapLogin(n,t){return!0!=n.valueOf()&&!1!=n.valueOf()?t(this.INVALID_REQUEST):void this.asyncJssoCall("truecallerOneTapLogin",{},function(r){var d=this;if(200==r.code){if(window.location.href="truecallersdk://truesdk/web_verify?requestNonce="+r.data.requestId+"&partnerKey=Mfn40c8470b1f53324b99aa45ac47738ad539&partnerName="+r.data.channelName+"&lang=en&title=signIn&skipOption=skip",!1==n.valueOf()&&t)return t(r);setTimeout(function(){if(document.hasFocus()){if(t)return t(d.APP_CONNECTION_TIMEOUT_RESPONSE);}else if(t)return t(r)},800)}}.bind(this))}},{key:"isIOS",value:function isIOS(){return["iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")}},{key:"socialLogin",value:function socialLogin(n,t,r,d){if("FACEBOOK"==n&&this.openSocialLoginPage("https://www.facebook.com/v5.0/dialog/oauth",t,n,r),"GOOGLEPLUS"==n&&this.openSocialLoginPage("https://accounts.google.com/o/oauth2/v2/auth",t,n,r),"LINKEDIN"==n&&this.openSocialLoginPage("https://www.linkedin.com/oauth/v2/authorization",t,n,r),"APPLE"==n){var p=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);if(this.isIOS()&&p){r=r+"?clientId="+t+"&clientRu="+d+"&channel="+this.channel;window.open(r,"ssoLoginWindow","height=600,width=600,toolbar=no,titlebar=no,status=no,resizable=no,menubar=no,location=no,top=100,left=300,screenX=300,screenY=100")}else this.openSocialLoginPage("https://appleid.apple.com/auth/authorize",t,n,r,d)}}},{key:"openSocialLoginPage",value:function openSocialLoginPage(n,t,r,d,p,g){var k=n;if("FACEBOOK"==r&&(k+="?client_id="+t+"&display=popup&state=SSOTLOGIN"+r+","+d+"&redirect_uri="+d+"&scope=email"),"GOOGLEPLUS"==r&&(k+="?response_type=code&client_id="+t+"&state=SSOTLOGIN"+r+","+d+"&scope=email profile&include_granted_scopes=true&redirect_uri="+d),"LINKEDIN"==r&&(k+="?response_type=code&client_id="+t+"&state=SSOTLOGIN"+r+"&scope=r_emailaddress r_liteprofile&redirect_uri="+d),"APPLE"==r&&(k+="?client_id="+t+"&state=SSOTLOGIN"+r+","+p+"&redirect_uri="+d+"&scope=email name&response_type=code id_token&response_mode=form_post"),g)window.location.href=k;else window.open(k,"ssoLoginWindow","height=600,width=600,toolbar=no,titlebar=no,status=no,resizable=no,menubar=no,location=no,top=100,left=300,screenX=300,screenY=100")}},{key:"getGeoLocation",value:function getGeoLocation(n){var r=document.createElement("script");r.onload=function(){if(n)return n(geoinfo)},r.src="https://geoapi.indiatimes.com/?cb=1",document.head.appendChild(r)}},{key:"linkSocialTrapPage",value:function linkSocialTrapPage(n,t){this.asyncJssoCall("linkSocialTrap",{stateid:n},t)}},{key:"resendMobileForgotPasswordOtp",value:function resendMobileForgotPasswordOtp(n,t,r){return this.isValidMobile(n)?void(r?this.asyncJssoCall("resendForgotPasswordOTP",{mobile:n,userRecaptchaResponseToken:r},function(d){if(200==d.code&&this.createChannelCookies(),t)return t(d)}.bind(this)):this.asyncJssoCall("resendForgotPasswordOTP",{mobile:n},t)):t(this.INVALID_MOBILE)}},{key:"resendEmailForgotPasswordOtp",value:function resendEmailForgotPasswordOtp(n,t,r){return this.isValidEmail(n)?void(r?this.asyncJssoCall("resendForgotPasswordOTP",{email:n,userRecaptchaResponseToken:r},t):this.asyncJssoCall("resendForgotPasswordOTP",{email:n},t)):t(this.INVALID_EMAIL)}},{key:"resendMobileLoginOtp",value:function resendMobileLoginOtp(n,t,r){return this.isValidMobile(n)?void(void 0==r?this.asyncJssoCallWithHeaders("resendLoginOtp",{mobile:n},this.captchaToken,t):this.asyncJssoCall("resendLoginOtp",{mobile:n,userRecaptchaResponseToken:r},function(d){if(200==d.code&&this.createChannelCookies(),t)return t(d)}.bind(this))):t(this.INVALID_MOBILE)}},{key:"resendEmailLoginOtp",value:function resendEmailLoginOtp(n,t,r){return this.isValidEmail(n)?void(void 0==r?this.asyncJssoCallWithHeaders("resendLoginOtp",{email:n},this.captchaToken,t):this.asyncJssoCall("resendLoginOtp",{email:n,userRecaptchaResponseToken:r},t)):t(this.INVALID_EMAIL)}},{key:"GisLogin",value:function GisLogin(n,t,r,d,p){this.asyncJssoCall("GISverify",{clientId:n,credential:t,select_by:r,ru:d},function(g){if(200==g.code&&(this.createChannelCookies(),this.fedcmInIfram(g)),p)return p(g)}.bind(this))}},{key:"credLogin",value:function credLogin(n,t){this.asyncJssoCall("credLogin",{accessToken:n},function(r){if(200==r.code&&this.createChannelCookies(),t)return t(r)}.bind(this))}},{key:"newSocialLogin",value:function newSocialLogin(n,t,r,d){this.asyncJssoCall("socialLogin",{accessToken:n,preference:t,loginType:r},function(p){if(200==p.code&&this.createChannelCookies(),d)return d(p)}.bind(this))}},{key:"createChannelCookies",value:function createChannelCookies(){var n=new Date,t=new Date(n);t.setHours(24,0,0,0),this.createCookie("jsso_crosswalk_login_"+this.channel,"true",2592000000),this.createCookie("jsso_crosswalk_daily_"+this.channel,"true",t-n),this.createCookie("csrfToken",this.csrfToken,2592000000),this.createCookie("captchaToken",this.captchaToken,2592000000),this.createCookie("jsso_crosswalk_ssec_"+this.channel,this.ssec,2592000000),this.createCookie("jsso_crosswalk_tksec_"+this.channel,this.tksec,2592000000),this.createCookie("csut",this.csut,2592000000),this.createCookie("gdpr",this.gdpr,2592000000)}},{key:"getChannelCookies",value:function getChannelCookies(){var n={login:this.getCookie("jsso_crosswalk_login_"+this.channel),daily:this.getCookie("jsso_crosswalk_daily_"+this.channel)};return n}},{key:"deleteChannelCookies",value:function deleteChannelCookies(){this.deleteCookieByName("jsso_crosswalk_login_"+this.channel),this.deleteCookieByName("jsso_crosswalk_daily_"+this.channel),this.deleteCookieByName("csrfToken"),this.deleteCookieByName("captchaToken"),this.deleteCookieByName("jsso_crosswalk_ssec_"+this.channel),this.deleteCookieByName("jsso_crosswalk_tksec_"+this.channel),this.deleteCookieByName("csut"),this.deleteCookieByName("gdpr")}},{key:"getCookie",value:function getCookie(n){for(var g,t=n+"=",r=decodeURIComponent(document.cookie),d=r.split(";"),p=0;p<d.length;p++){for(g=d[p];" "==g.charAt(0);)g=g.substring(1);if(0==g.indexOf(t))return g.substring(t.length,g.length)}return""}},{key:"deleteCookieByName",value:function deleteCookieByName(n){document.cookie=n+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/"}},{key:"createCookie",value:function createCookie(n,t,r){var d=new Date,p=d.getTime()+r;d.setTime(p),document.cookie=n+"="+t+"; expires="+d.toGMTString()+"; path=/"}},{key:"getSessionStorage",value:function getSessionStorage(n){var d=null;if(window.sessionStorage&&(d=sessionStorage.getItem(n),d&&-1<d.indexOf("~~"))){var t=d.split("~~"),r=parseInt(t[1]);r<new Date().getTime()?(d=null,sessionStorage.removeItem(n)):d=t[0]}return d}},{key:"setSessionStorage",value:function setSessionStorage(n,t,r){var p=new Date().getTime()+1e3*(60*r);if(window.sessionStorage)if(null==t)sessionStorage.removeItem(n);else try{sessionStorage.setItem(n,t+"~~"+p)}catch(g){}}},{key:"isValidEmail",value:function isValidEmail(n){var t=/^(([^<>()\[\]\\.,;:\s@"]+([^<>()\[\]\\,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test((n+"").toLowerCase().trim())}},{key:"isValidMobile",value:function isValidMobile(n){var t=/^((((\+?\(91\))|0|((00|\+)?91))-?)?[6-9]\d{9})|((\+\d{1,5}[-])\d{3,14})$/;return t.test(n.trim()+"")}},{key:"isValidDomain",value:function isValidDomain(n){var t=/^(ttp[s]?:\/\/(www\.)?|ftp:\/\/(www\.)?|www\.){1}([0-9A-Za-z-\.@:%_+~#=]+)+((\.[a-zA-Z]{2,3})+)(\/(.)*)?(\?(.)*)?/;return t.test(n+"")}},{key:"isValidPassword",value:function isValidPassword(n){n+="";var t=/.*[a-z]+.*/,r=/.*[!@#$%^&*()]+.*/,d=/.*[0-9]+.*/;return 6>n.length||14<n.length?!1:t.test(n)&&r.test(n)&&d.test(n)}},{key:"open",value:function open(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var d=n[0],p=n.slice(1);if(d){var g=new URL(d);this.getValidLoggedInUser(function k(u){var C,I=u.data.encTicket;g.searchParams.set("ticketId",I),(C=window).open.apply(C,[g].concat(_toConsumableArray(p)))})}}}]),s}();function getParameterByName(s,a){a=a||window.location.href,s=s.replace(/[\[\]]/g,"\\$&");var o=new RegExp("[?&]"+s+"(=([^&#]*)|&|#|$)"),l=o.exec(a);return l?l[2]?decodeURIComponent(l[2].replace(/\+/g," ")):"":""}
		
	